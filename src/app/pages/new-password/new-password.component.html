<main class="new-password">
	<section class="content">
		<div class="title">
			<h1>Nova senha</h1>
			<p>Informe abaixo uma nova senha para conseguir logar.</p>
		</div>

		<form [formGroup]="newPasswordForm" class="form">
			<div class="inputs">
				<mat-form-field
					class="password"
					appearance="outline"
					[hideRequiredMarker]="true"
				>
					<mat-label>Digite sua nova senha</mat-label>
					<input
						matInput
						formControlName="password"
						[type]="hide ? 'password' : 'text'"
						autocomplete="on"
						required
					/>
					<button
						mat-icon-button
						matSuffix
						(click)="hide = !hide"
						[attr.aria-label]="'Hide password'"
						[attr.aria-pressed]="hide"
					>
						<mat-icon>{{ hide ? "visibility_off" : "visibility" }}</mat-icon>
					</button>
				</mat-form-field>

				<mat-form-field
					class="password"
					appearance="outline"
					[hideRequiredMarker]="true"
				>
					<mat-label>Digite novamente sua nova senha</mat-label>
					<input
						matInput
						formControlName="confirmPassword"
						[type]="hide ? 'password' : 'text'"
						autocomplete="on"
						required
					/>
					<button
						mat-icon-button
						matSuffix
						(click)="hide = !hide"
						[attr.aria-label]="'Hide password'"
						[attr.aria-pressed]="hide"
					>
						<mat-icon>{{ hide ? "visibility_off" : "visibility" }}</mat-icon>
					</button>
				</mat-form-field>
			</div>

			<section class="validators">
				<div class="requirements">
					<mat-icon class="check-icon">check_circle_outline</mat-icon>
					<p>A senha deve conter, no mínimo, 8 caracteres;</p>
				</div>
				<div class="requirements">
					<mat-icon class="check-icon">check_circle_outline</mat-icon>
					<p>Deve ter 1 letra;</p>
				</div>
				<div class="requirements">
					<mat-icon class="check-icon">check_circle_outline</mat-icon>
					<p>Deve ter 1 número;</p>
				</div>
				<div class="requirements">
					<mat-icon class="check-icon">check_circle_outline</mat-icon>
					<p>Deve ter 1 caractere especial: !@#</p>
				</div>
			</section>

			<div class="buttons">
				<button
					mat-flat-button
					class="cancel"
					type="button"
					(click)="goToLogin()"
				>
					<span>Cancelar</span>
				</button>
				<button
					mat-flat-button
					class="submit"
					type="submit"
					[disabled]="!newPasswordForm.valid"
					(click)="openSuccessWindow()"
				>
					<span>Criar Senha</span>
				</button>

				<app-success-window
					[description]="
						'Senha criada com sucesso! Realize o login com sua nova senha.'
					"
				></app-success-window>
			</div>
		</form>
	</section>
</main>
