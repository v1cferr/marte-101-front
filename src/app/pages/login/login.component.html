<section class="login">
	<div class="content">
		<div class="welcome">
			<h1>Bem vindo(a)!</h1>
			<p>Por favor, preencha os campos abaixo para logar.</p>
		</div>

		<form [formGroup]="loginForm" class="form">
			<mat-form-field
				class="email"
				appearance="outline"
				[hideRequiredMarker]="true"
			>
				<mat-label>E-mail</mat-label>
				<input
					matInput
					formControlName="email"
					type="email"
					autocomplete="on"
				/>
				<mat-error *ngIf="loginForm.get('email')?.invalid"
					>Informe um e-mail válido</mat-error
				>
			</mat-form-field>

			<mat-form-field
				class="password"
				appearance="outline"
				[hideRequiredMarker]="true"
			>
				<mat-label>Senha</mat-label>
				<input
					matInput
					formControlName="password"
					[type]="hide ? 'password' : 'text'"
					autocomplete="off"
				/>
				<button
					mat-icon-button
					matSuffix
					(click)="hide = !hide"
					[attr.aria-label]="'Hide password'"
					[attr.aria-pressed]="hide"
				>
					<mat-icon>{{ hide ? "visibility_off" : "visibility" }}</mat-icon>
				</button>
			</mat-form-field>

			<div class="container">
				<div class="remember">
					<input type="checkbox" id="remember" name="remember" />
					<label for="remember"><span>Lembrar de mim</span></label>
				</div>

				<div class="forgot">
					<a href="recover-password">Esqueceu a senha?</a>
				</div>
			</div>

			<mat-error *ngIf="showError === true" class="error-message"
				>Erro de autenticação: Credenciais inválidas</mat-error
			>
			<mat-error *ngIf="showErrorEmailValidation === true" class="error-message"
				>Erro de autenticação: E-mail não verificado</mat-error
			>
			<button
				mat-flat-button
				class="submit"
				type="submit"
				[disabled]="!loginForm.valid"
				(click)="goToHome()"
				(click)="onSubmit()"
			>
				<span>Entrar</span>
			</button>

			<div class="registration">
				<span
					tabindex="0"
					(click)="goToRegistration()"
					(keydown)="goToRegistration()"
					>Ainda não é cadastrado?</span>
			</div>
			<app-success-window
					[description]="
					'Cadastro verificado com sucesso'
					"
			></app-success-window>


		</form>
	</div>
</section>
